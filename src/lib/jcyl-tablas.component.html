<ng-container *ngIf="config">
    <table *ngIf="config.isTypeA && !config.isTypeB && !config.isTypeC" class="tabla"
        [summary]="config.summary ? config.summary : ''">
        <caption *ngIf="config.caption">{{config.caption}}</caption>
        <tbody>
            <tr *ngIf="config.cabecera" class="separacion-cabecera">
                <td></td>
                <th scope="col" *ngFor="let campo of config.cabecera">{{campo.content}}</th>
            </tr>
            <tr *ngFor="let row of getRowsPaginated(); let i = index" [class.destacada]="row.destacada">
                <ng-container *ngIf="row.fields[0].rowspan; else normal">
                    <ng-container *ngFor="let field of row.fields; let f = index">
                        <th *ngIf="f == 0; else resto" [attr.rowspan]="row.fields[0].rowspan">{{row.fields[0].content}}
                        </th>
                        <ng-template #resto>
                            <td>
                                {{field.content}}
                            </td>
                        </ng-template>
                    </ng-container>
                </ng-container>
                <ng-template #normal>
                    <td *ngFor="let field of row.fields">
                        {{field.content}}
                    </td>
                </ng-template>
            </tr>
        </tbody>
    </table>

    <table *ngIf="config.isTypeB && !config.isTypeA && !config.isTypeC" class="tabla"
        [summary]="config.summary ? config.summary : ''">
        <caption *ngIf="config.caption">{{config.caption}}</caption>
        <tbody>
            <tr *ngIf="config.cabecera" class="separacion-cabecera">
                <th scope="col" [class.handy]="campo.canSort" *ngFor="let campo of config.cabecera" (click)="sortFields(campo)">
                    {{campo.content}}
                    <ng-container *ngIf="campo.canSort">
                        <ng-container *ngIf="campo.sort === 'desc'">
                            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sort-down"
                                class="svg-inline--fa fa-sort-down fa-w-10" role="img"
                                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">
                                <path fill="currentColor"
                                    d="M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z">
                                </path>
                            </svg>
                        </ng-container>
                        <ng-container *ngIf="campo.sort === 'asc'">
                            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sort-up"
                                class="svg-inline--fa fa-sort-up fa-w-10" role="img" xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 320 512">
                                <path fill="currentColor"
                                    d="M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z">
                                </path>
                            </svg>
                        </ng-container>
                        <ng-container *ngIf="campo.sort === null">
                            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sort"
                                class="svg-inline--fa fa-sort fa-w-10" role="img" xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 320 512">
                                <path fill="currentColor"
                                    d="M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z">
                                </path>
                            </svg>
                        </ng-container>
                    </ng-container>
                </th>
            </tr>
            <tr *ngFor="let row of getRowsPaginated()" [class.destacada]="row.destacada">
                <td *ngFor="let field of row.fields" [class]="field.classTD ? field.classTD : ''"
                    [class.mp0]="field.isSeleccionable">
                    <span *ngIf="!field.isButton && !field.isImg && !field.isSeleccionable">
                        {{field.content}}
                    </span>
                    <form *ngIf="field.isSeleccionable" class="buscador-especifico textC handy"
                        (click)="toggleSeleccion(field, row)">
                        <input [class]="field.class ? field.class +' handy' : 'handy'" [checked]="field.selected"
                            type="checkbox" />
                    </form>
                    <form *ngIf="field.isButton" class="buscador-especifico">
                        <input [class]="field.class ? field.class +' boton' : 'boton'" [value]="field.content"
                            type="button" role="button" (click)="clickedBoton(field.content, row)" />
                    </form>
                    <img *ngIf="field.isImg" [class]="field.class ? field.class : ''" (click)="imgGoTo(field)"
                        [src]="field.src" [alt]="field.alt">
                </td>
            </tr>
        </tbody>
    </table>

    <table *ngIf="config.isTypeC && !config.isTypeA && !config.isTypeB" class="tabla"
        [summary]="config.summary ? config.summary : ''">
        <caption *ngIf="config.caption">{{config.caption}}</caption>
        <tbody>
            <tr *ngIf="config.cabecera" class="separacion-cabecera">
                <th scope="col" [attr.colspan]="config.rows[config.rows.length - 1].fields.length">
                    {{config.cabecera[0].content}}</th>
            </tr>
            <tr *ngFor="let row of getRowsPaginated()" [class.destacada]="row.destacada">
                <td *ngFor="let field of row.fields">
                    <span *ngIf="!field.isButton && !field.isSeleccionable">
                        {{field.content}}
                    </span>
                    <form *ngIf="field.isSeleccionable" class="buscador-especifico textC handy"
                        (click)="toggleSeleccion(field, row)">
                        <input [class]="field.class ? field.class +' handy' : 'handy'" [checked]="field.selected"
                            type="checkbox" />
                    </form>
                    <form *ngIf="field.isButton" class="buscador-especifico">
                        <input [class]="field.class ? field.class +' boton' : 'boton'" [value]="field.content"
                            type="button" (click)="clickedBoton(field.content, row)" *ngIf="field.isButton" />
                    </form>
                </td>
            </tr>
        </tbody>
    </table>

    <div *ngIf="config.paginado" class="paginacion simple-pagination izq" aria-hidden="true">
        <ul>
            <li [class.disabled]="config.paginado.page === 1">
                <span *ngIf="config.paginado.page === 1" class="current prev">&lt;</span>
                <a (click)="goToPage(config.paginado.page - 1)" *ngIf="config.paginado.page > 1"
                    class="page-link next handy">&lt;</a>
            </li>
            <li *ngFor="let p of getPages()">
                <span *ngIf="p === config.paginado.page" class="current">{{p}}</span>
                <a (click)="goToPage(p)" *ngIf="p !== config.paginado.page" class="page-link handy">{{p}}</a>
            </li>
            <li [class.disabled]="config.paginado.page === getPages().length">
                <span *ngIf="config.paginado.page === getPages().length" class="current prev">&gt;</span>
                <a (click)="goToPage(config.paginado.page + 1)" *ngIf="config.paginado.page < getPages().length"
                    class="page-link next handy">&gt;</a>
            </li>
        </ul>
        <div [formGroup]="formularioLimite">
            <select formControlName="limite">
                <option *ngFor="let limit of limits" [value]="limit">{{limit}}</option>
                <option [value]="'all'">Todos</option>
            </select>
        </div>
    </div>

    <div *ngIf="rowsSelected.length > 0">
        <form class="buscador-especifico textC">
            <input role="button" type="button" class="boton handy" value="Seleccionar" (click)="sendSelectedRow()">
        </form>
    </div>
</ng-container>